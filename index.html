<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Catch the Falling Items</title>
<style>
  body {
    margin: 0;
    background: #f0f0f0;
    text-align: center;
    font-family: sans-serif;
  }
  canvas {
    background: #87ceeb;
    display: block;
    margin: 20px auto;
    border: 2px solid #333;
  }
  #info {
    font-size: 20px;
  }
</style>
</head>
<body>

<div id="info">
  <span id="score">Score: 0</span> | 
  <span id="timer">Time: 5:00</span>
</div>
<canvas id="gameCanvas" width="400" height="500"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let basket = { x: canvas.width/2 - 30, y: canvas.height - 30, width: 60, height: 20 };
let items = [];
let score = 0;
let timeLeft = 300; // 5 minutes = 300 seconds
let gameOver = false;

const timerDisplay = document.getElementById("timer");
const scoreDisplay = document.getElementById("score");

// Countdown once per second
let countdownInterval = setInterval(() => {
  timeLeft--;
  let minutes = Math.floor(timeLeft / 60);
  let seconds = timeLeft % 60;
  timerDisplay.textContent = `Time: ${minutes}:${seconds.toString().padStart(2, '0')}`;
  if (timeLeft <= 0) {
    gameOver = true;
    clearInterval(countdownInterval);
  }
}, 1000);

document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowLeft") basket.x -= 20;
  if (e.key === "ArrowRight") basket.x += 20;
  basket.x = Math.max(0, Math.min(canvas.width - basket.width, basket.x));
});

function spawnItem() {
  let size = 20;
  items.push({
    x: Math.random() * (canvas.width - size),
    y: -size,
    size: size,
    speed: 2 + Math.random() * 2
  });
}

function update() {
  if (gameOver) return;

  // Move items
  items.forEach(item => {
    item.y += item.speed;
  });

  // Check for catch
